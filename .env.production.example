# GTM Advisor Production Environment Configuration
# SECURITY WARNING: Never commit actual secrets to version control!
# Copy this file to .env.production and fill in your values

# =============================================================================
# ENVIRONMENT - MUST BE SET TO PRODUCTION
# =============================================================================
GTM_ENVIRONMENT=production

# =============================================================================
# REQUIRED - LLM Providers
# =============================================================================
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# =============================================================================
# REQUIRED - Data Source APIs
# =============================================================================
PERPLEXITY_API_KEY=pplx-...
NEWSAPI_API_KEY=...
EODHD_API_KEY=...

# =============================================================================
# REQUIRED - Database (PostgreSQL)
# =============================================================================
# Use a managed PostgreSQL service (AWS RDS, Google Cloud SQL, etc.)
# Format: postgresql+asyncpg://user:password@host:5432/database?ssl=require
GTM_POSTGRES_URL=postgresql+asyncpg://gtm_user:STRONG_PASSWORD@your-db-host:5432/gtm_production?sslmode=require

# =============================================================================
# REQUIRED - Cache (Redis)
# =============================================================================
# Use a managed Redis service (AWS ElastiCache, Redis Cloud, etc.)
# Format: redis://[:password]@host:6379/db
GTM_REDIS_URL=rediss://default:STRONG_PASSWORD@your-redis-host:6379/0

# =============================================================================
# REQUIRED - Security
# =============================================================================
# JWT secret MUST be at least 32 characters for production
# Generate with: openssl rand -hex 32
GTM_JWT_SECRET=REPLACE_WITH_64_CHARACTER_HEX_STRING
GATEWAY_JWT_SECRET_KEY=REPLACE_WITH_64_CHARACTER_HEX_STRING

# CORS origins - list your production domains
GTM_CORS_ORIGINS=["https://your-domain.com", "https://www.your-domain.com"]

# =============================================================================
# Gateway Service
# =============================================================================
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8000
GATEWAY_ENVIRONMENT=production

# =============================================================================
# Feature Flags (Production Settings)
# =============================================================================
GTM_ENABLE_GOVERNANCE=true
GTM_ENABLE_OBSERVABILITY=true
GTM_ENABLE_PDPA_COMPLIANCE=true
GTM_DEFAULT_LLM_PROVIDER=openai

# =============================================================================
# Rate Limiting (Production Values)
# =============================================================================
GTM_RATE_LIMIT_FREE_REQUESTS=10
GTM_RATE_LIMIT_TIER1_REQUESTS=100
GTM_RATE_LIMIT_TIER2_REQUESTS=1000

GTM_RATE_LIMIT_FREE_ANALYSES=3
GTM_RATE_LIMIT_TIER1_ANALYSES=20
GTM_RATE_LIMIT_TIER2_ANALYSES=100

# =============================================================================
# Caching (Production Values)
# =============================================================================
GTM_USER_CACHE_TTL_SECONDS=300
GTM_USER_CACHE_MAX_SIZE=50000

# =============================================================================
# Observability (Optional but Recommended)
# =============================================================================
# Jaeger for distributed tracing
# GTM_JAEGER_URL=http://jaeger-agent:6831

# Prometheus metrics port
# PROMETHEUS_PORT=9090

# =============================================================================
# PRODUCTION SECURITY CHECKLIST
# =============================================================================
# [ ] All API keys are rotated from development values
# [ ] JWT secret is 64+ characters and unique to production
# [ ] Database uses SSL/TLS (sslmode=require)
# [ ] Redis uses TLS (rediss:// protocol)
# [ ] CORS origins only include production domains
# [ ] Rate limiting is enabled
# [ ] PDPA compliance is enabled
# [ ] Observability is enabled for monitoring
# [ ] Secrets are stored in a secure secrets manager (not in env files)
# [ ] Firewall rules restrict database/cache access to application servers
# [ ] All dependencies are security-audited
